import{r as f}from"./react-vendor-BmBsKbru.js";import{k as se}from"./pkg-i18next-C5QWbJWw.js";import{c as re}from"./pkg-html-parse-stringify-FuUoKy6c.js";import{a as ae}from"./pkg-use-sync-external-store-FcjOgQqs.js";import"./pkg-void-elements-BiMHg9sG.js";const z=(e,t,n,r)=>{const o=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);I(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...o):console?.warn&&console.warn(...o)},Y={},B=(e,t,n,r)=>{I(n)&&Y[n]||(I(n)&&(Y[n]=new Date),z(e,t,n,r))},G=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},W=(e,t,n)=>{e.loadNamespaces(t,G(e,n))},q=(e,t,n,r)=>{if(I(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return W(e,n,r);n.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(t,G(e,r))},oe=(e,t,n={})=>!t.languages||!t.languages.length?(B(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!o(r.isLanguageChangingTo,e))return!1}}),I=e=>typeof e=="string",k=e=>typeof e=="object"&&e!==null,ie=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ce={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},le=e=>ce[e],J=e=>e.replace(ie,le);let U={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:J,transDefaultProps:void 0};const ue=(e={})=>{U={...U,...e}},Z=()=>U;let Q;const fe=e=>{Q=e},X=()=>Q,H=(e,t)=>{if(!e)return!1;const n=e.props?.children??e.children;return t?n.length>0:!!n},M=e=>{if(!e)return[];const t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?V(t):t},pe=e=>Array.isArray(e)&&e.every(f.isValidElement),V=e=>Array.isArray(e)?e:[e],de=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},ge=e=>{const t={};if(!e)return t;const n=r=>{V(r).forEach(s=>{I(s)||(H(s)?n(M(s)):k(s)&&!f.isValidElement(s)&&Object.assign(t,s))})};return n(e),t},K=(e,t,n,r)=>{if(!e)return"";let o="";const s=V(e),u=t?.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return s.forEach((g,A)=>{if(I(g)){o+=`${g}`;return}if(f.isValidElement(g)){const{props:m,type:T}=g,h=Object.keys(m).length,v=u.indexOf(T)>-1,$=m.children;if(!$&&v&&!h){o+=`<${T}/>`;return}if(!$&&(!v||h)||m.i18nIsDynamicList){o+=`<${A}></${A}>`;return}if(v&&h===1&&I($)){o+=`<${T}>${$}</${T}>`;return}const E=K($,t,n,r);o+=`<${A}>${E}</${A}>`;return}if(g===null){z(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(k(g)){const{format:m,...T}=g,h=Object.keys(T);if(h.length===1){const v=m?`${h[0]}, ${m}`:h[0];o+=`{{${v}}}`;return}z(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:g});return}z(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:g})}),o},me=(e,t=[],n={})=>{if(!e)return e;const r=Object.keys(n),o=[...t,...r];let s="",u=0;for(;u<e.length;)if(e[u]==="<"){let g=!1;const A=e.slice(u).match(/^<\/(\d+|[a-zA-Z][a-zA-Z0-9-]*)>/);if(A){const m=A[1];(/^\d+$/.test(m)||o.includes(m))&&(g=!0,s+=A[0],u+=A[0].length)}if(!g){const m=e.slice(u).match(/^<(\d+|[a-zA-Z][a-zA-Z0-9-]*)(\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s*(\/)?>/);if(m){const T=m[1];(/^\d+$/.test(T)||o.includes(T))&&(g=!0,s+=m[0],u+=m[0].length)}}g||(s+="&lt;",u+=1)}else s+=e[u],u+=1;return s},ye=(e,t,n,r,o,s,u)=>{if(n==="")return[];const g=o.transKeepBasicHtmlNodesFor||[],A=n&&new RegExp(g.map(N=>`<${N}`).join("|")).test(n);if(!e&&!t&&!A&&!u)return[n];const m=t??{},T=N=>{V(N).forEach(p=>{I(p)||(H(p)?T(M(p)):k(p)&&!f.isValidElement(p)&&Object.assign(m,p))})};T(e);const h=me(n,g,m),v=re.parse(`<0>${h}</0>`),$={...m,...s},E=(N,x,p)=>{const C=M(N),L=S(C,x.children,p);return pe(C)&&L.length===0||N.props?.i18nIsDynamicList?C:L},w=(N,x,p,C,L)=>{N.dummy?(N.children=x,p.push(f.cloneElement(N,{key:C},L?void 0:x))):p.push(...f.Children.map([N],y=>{const a="data-i18n-is-dynamic-list",l={key:C,[a]:void 0};return y&&y.props&&Object.keys(y.props).forEach(i=>{i==="ref"||i==="children"||i==="i18nIsDynamicList"||i===a||(l[i]=y.props[i])}),f.cloneElement(y,l,L?null:x)}))},S=(N,x,p)=>{const C=V(N);return V(x).reduce((y,a,l)=>{const i=a.children?.[0]?.content&&r.services.interpolator.interpolate(a.children[0].content,$,r.language);if(a.type==="tag"){let c=C[parseInt(a.name,10)];!c&&t&&(c=t[a.name]),p.length===1&&!c&&(c=p[0][a.name]),c||(c={});const d={...a.attrs};u&&Object.keys(d).forEach(O=>{const P=d[O];I(P)&&(d[O]=J(P))});const b=Object.keys(d).length!==0?de({props:d},c):c,j=f.isValidElement(b),R=j&&H(a,!0)&&!a.voidElement,F=A&&k(b)&&b.dummy&&!j,D=k(t)&&Object.hasOwnProperty.call(t,a.name);if(I(b)){const O=r.services.interpolator.interpolate(b,$,r.language);y.push(O)}else if(H(b)||R){const O=E(b,a,p);w(b,O,y,l)}else if(F){const O=S(C,a.children,p);w(b,O,y,l)}else if(Number.isNaN(parseFloat(a.name)))if(D){const O=E(b,a,p);w(b,O,y,l,a.voidElement)}else if(o.transSupportBasicHtmlNodes&&g.indexOf(a.name)>-1)if(a.voidElement)y.push(f.createElement(a.name,{key:`${a.name}-${l}`}));else{const O=S(C,a.children,p);y.push(f.createElement(a.name,{key:`${a.name}-${l}`},O))}else if(a.voidElement)y.push(`<${a.name} />`);else{const O=S(C,a.children,p);y.push(`<${a.name}>${O}</${a.name}>`)}else if(k(b)&&!j){const O=a.children[0]?i:null;O&&y.push(O)}else w(b,i,y,l,a.children.length!==1||!i)}else if(a.type==="text"){const c=o.transWrapTextNodes,d=typeof o.unescape=="function"?o.unescape:Z().unescape,b=u?d(r.services.interpolator.interpolate(a.content,$,r.language)):r.services.interpolator.interpolate(a.content,$,r.language);c?y.push(f.createElement(c,{key:`${a.name}-${l}`},b)):y.push(b)}return y},[])},_=S([{dummy:!0,children:e||[]}],v,V(e||[]));return M(_[0])},ee=(e,t,n)=>{const r=e.key||t,o=f.cloneElement(e,{key:r});if(!o.props||!o.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return o;function s(){return f.createElement(f.Fragment,null,o)}return f.createElement(s,{key:r})},he=(e,t)=>e.map((n,r)=>ee(n,r,t)),Ne=(e,t)=>{const n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:ee(e[r],r,t)})}),n},be=(e,t,n,r)=>e?Array.isArray(e)?he(e,t):k(e)?Ne(e,t):(B(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null,Ee=e=>!k(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,n)=>t&&Number.isNaN(Number.parseFloat(n)),!0);function Ae({children:e,count:t,parent:n,i18nKey:r,context:o,tOptions:s={},values:u,defaults:g,components:A,ns:m,i18n:T,t:h,shouldUnescape:v,...$}){const E=T||X();if(!E)return B(E,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const w=h||E.t.bind(E)||(ne=>ne),S={...Z(),...E.options?.react};let _=m||w.ns||E.options?.defaultNS;_=I(_)?[_]:_||["translation"];const{transDefaultProps:N}=S,x=N?.tOptions?{...N.tOptions,...s}:s,p=v??N?.shouldUnescape,C=N?.values?{...N.values,...u}:u,L=N?.components?{...N.components,...A}:A,y=K(e,S,E,r),a=g||x?.defaultValue||y||S.transEmptyNodeValue||(typeof r=="function"?se(r):r),{hashTransKey:l}=S,i=r||(l?l(y||a):y||a);E.options?.interpolation?.defaultVariables?u=C&&Object.keys(C).length>0?{...C,...E.options.interpolation.defaultVariables}:{...E.options.interpolation.defaultVariables}:u=C;const c=ge(e);c&&typeof c.count=="number"&&t===void 0&&(t=c.count);const d=u||t!==void 0&&!E.options?.interpolation?.alwaysFormat||!e?x.interpolation:{interpolation:{...x.interpolation,prefix:"#$?",suffix:"?$#"}},b={...x,context:o||x.context,count:t,...u,...d,defaultValue:a,ns:_};let j=i?w(i,b):a;j===i&&a&&(j=a);const R=be(L,j,E,r);let F=R||e,D=null;Ee(R)&&(D=R,F=e);const O=ye(F,D,j,E,S,b,p),P=n??S.defaultTransParent;return P?f.createElement(P,$,O):O}const Le={type:"3rdParty",init(e){ue(e.options.react),fe(e)}},te=f.createContext();class Ce{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function _e({children:e,count:t,parent:n,i18nKey:r,context:o,tOptions:s={},values:u,defaults:g,components:A,ns:m,i18n:T,t:h,shouldUnescape:v,...$}){const{i18n:E,defaultNS:w}=f.useContext(te)||{},S=T||E||X(),_=h||S?.t.bind(S);return Ae({children:e,count:t,parent:n,i18nKey:r,context:o,tOptions:s,values:u,defaults:g,components:A,ns:m||_?.ns||w||S?.options?.defaultNS,i18n:S,t:h,shouldUnescape:v,...$})}const xe=(e,t)=>I(t)?t:k(t)&&I(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,Oe={t:xe,ready:!1},Te=()=>()=>{},je=(e,t={})=>{const{i18n:n}=t,{i18n:r,defaultNS:o}=f.useContext(te)||{},s=n||r||X();s&&!s.reportNamespaces&&(s.reportNamespaces=new Ce),s||B(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=f.useMemo(()=>({...Z(),...s?.options?.react,...t}),[s,t]),{useSuspense:g,keyPrefix:A}=u,m=o||s?.options?.defaultNS,T=I(m)?[m]:m||["translation"],h=f.useMemo(()=>T,T);s?.reportNamespaces?.addUsedNamespaces?.(h);const v=f.useRef(0),$=f.useCallback(l=>{if(!s)return Te;const{bindI18n:i,bindI18nStore:c}=u,d=()=>{v.current+=1,l()};return i&&s.on(i,d),c&&s.store.on(c,d),()=>{i&&i.split(" ").forEach(b=>s.off(b,d)),c&&c.split(" ").forEach(b=>s.store.off(b,d))}},[s,u]),E=f.useRef(),w=f.useCallback(()=>{if(!s)return Oe;const l=!!(s.isInitialized||s.initializedStoreOnce)&&h.every(R=>oe(R,s,u)),i=t.lng||s.language,c=v.current,d=E.current;if(d&&d.ready===l&&d.lng===i&&d.keyPrefix===A&&d.revision===c)return d;const j={t:s.getFixedT(i,u.nsMode==="fallback"?h:h[0],A),ready:l,lng:i,keyPrefix:A,revision:c};return E.current=j,j},[s,h,A,u,t.lng]),[S,_]=f.useState(0),{t:N,ready:x}=ae.useSyncExternalStore($,w,w);f.useEffect(()=>{if(s&&!x&&!g){const l=()=>_(i=>i+1);t.lng?q(s,t.lng,h,l):W(s,h,l)}},[s,t.lng,h,x,g,S]);const p=s||{},C=f.useRef(null),L=f.useRef(),y=l=>{const i=Object.getOwnPropertyDescriptors(l);i.__original&&delete i.__original;const c=Object.create(Object.getPrototypeOf(l),i);if(!Object.prototype.hasOwnProperty.call(c,"__original"))try{Object.defineProperty(c,"__original",{value:l,writable:!1,enumerable:!1,configurable:!1})}catch{}return c},a=f.useMemo(()=>{const l=p,i=l?.language;let c=l;l&&(C.current&&C.current.__original===l?L.current!==i?(c=y(l),C.current=c,L.current=i):c=C.current:(c=y(l),C.current=c,L.current=i));const d=[N,c,x];return d.t=N,d.i18n=c,d.ready=x,d},[N,p,x,p.resolvedLanguage,p.language,p.languages]);if(s&&g&&!x)throw new Promise(l=>{const i=()=>l();t.lng?q(s,t.lng,h,i):W(s,h,i)});return a};export{_e as T,Le as i,je as u};
