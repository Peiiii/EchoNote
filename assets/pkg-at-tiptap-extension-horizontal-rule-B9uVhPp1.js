import{N as m,n as f,c as h,i as T,m as N}from"./pkg-at-tiptap-core-CbjUX6lY.js";import{b as s,N as y}from"./editor-CPE0OFX2.js";var H=m.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:o}){return["hr",N(this.options.HTMLAttributes,o)]},markdownTokenName:"hr",parseMarkdown:(o,n)=>n.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:o,state:n})=>{if(!h(n,n.schema.nodes[this.name]))return!1;const{selection:i}=n,{$to:l}=i,r=o();return T(i)?r.insertContentAt(l.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({state:p,tr:e,dispatch:u})=>{if(u){const{$to:t}=e.selection,a=t.end();if(t.nodeAfter)t.nodeAfter.isTextblock?e.setSelection(s.create(e.doc,t.pos+1)):t.nodeAfter.isBlock?e.setSelection(y.create(e.doc,t.pos)):e.setSelection(s.create(e.doc,t.pos));else{const c=p.schema.nodes[this.options.nextNodeType]||t.parent.type.contentMatch.defaultType,d=c?.create();d&&(e.insert(a,d),e.setSelection(s.create(e.doc,a+1)))}e.scrollIntoView()}return!0}).run()}}},addInputRules(){return[f({find:/^(?:---|â€”-|___\s|\*\*\*\s)$/,type:this.type})]}});export{H};
