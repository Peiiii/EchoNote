import{N as o,n as c,m as p}from"./pkg-at-tiptap-core-CbjUX6lY.js";var g=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,m=o.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",p(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,r,n,l,a,i;const s=(r=(e=t.attrs)==null?void 0:e.src)!=null?r:"",u=(l=(n=t.attrs)==null?void 0:n.alt)!=null?l:"",d=(i=(a=t.attrs)==null?void 0:a.title)!=null?i:"";return d?`![${u}](${s} "${d}")`:`![${u}](${s})`},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[c({find:g,type:this.type,getAttributes:t=>{const[,,e,r,n]=t;return{src:r,alt:e,title:n}}})]}}),h=m;export{h as i};
